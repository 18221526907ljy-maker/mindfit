<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MindFit - CBT自助工具</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#10B981',
                        accent: '#8B5CF6',
                        neutral: '#F3F4F6',
                        dark: '#1F2937',
                        light: '#F9FAFB'
                    },
                    fontFamily: {
                        sans: ['PingFang SC', 'Helvetica Neue', 'Arial', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .card-shadow {
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            }
            .transition-smooth {
                transition: all 0.3s ease;
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .text-balance {
                text-wrap: balance;
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-dark min-h-screen">
    <!-- 顶部导航栏 -->
    <header class="fixed top-0 left-0 right-0 bg-white shadow-sm z-50">
        <div class="flex items-center justify-between px-4 py-3">
            <div class="flex items-center">
                <button id="backBtn" class="p-2 text-gray-500 hover:text-primary transition-smooth">
                    <i class="fa fa-arrow-left text-lg"></i>
                </button>
                <h1 id="pageTitle" class="text-xl font-medium ml-2">CBT自助工具</h1>
            </div>
            <div class="flex items-center space-x-4">
                <button class="p-2 text-gray-500 hover:text-primary transition-smooth">
                    <i class="fa fa-bell-o text-lg"></i>
                </button>
                <button class="p-2 text-gray-500 hover:text-primary transition-smooth">
                    <i class="fa fa-user-o text-lg"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- 主内容区 -->
    <main class="pt-16 pb-16 min-h-screen">
        <!-- 工具首页 -->
        <section id="homePage" class="page active">
            <div class="px-4 py-6">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-[clamp(1.5rem,3vw,1.8rem)] font-bold">CBT自助工具</h2>
                    <div class="flex items-center">
                        <span class="text-sm text-gray-500 mr-2">我的进度</span>
                        <div class="w-24 h-2 bg-gray-200 rounded-full overflow-hidden">
                            <div class="h-full bg-primary rounded-full" style="width: 35%"></div>
                        </div>
                    </div>
                </div>

                <!-- 功能卡片网格 -->
                <div class="grid grid-cols-2 gap-4 mb-8">
                    <!-- 自动思维记录 -->
                    <div class="feature-card bg-white rounded-xl p-5 card-shadow flex flex-col items-center justify-center transition-smooth hover:shadow-lg hover:-translate-y-1 cursor-pointer" data-target="thoughtRecordPage">
                        <div class="w-14 h-14 rounded-full bg-blue-100 flex items-center justify-center mb-3">
                            <i class="fa fa-pencil text-primary text-xl"></i>
                        </div>
                        <h3 class="text-base font-medium text-center">自动思维记录</h3>
                    </div>

                    <!-- 情绪调节卡片 -->
                    <div class="feature-card bg-white rounded-xl p-5 card-shadow flex flex-col items-center justify-center transition-smooth hover:shadow-lg hover:-translate-y-1 cursor-pointer" data-target="emotionRegulationPage">
                        <div class="w-14 h-14 rounded-full bg-green-100 flex items-center justify-center mb-3">
                            <i class="fa fa-heart-o text-secondary text-xl"></i>
                        </div>
                        <h3 class="text-base font-medium text-center">情绪调节卡片</h3>
                    </div>

                    <!-- 行为实验指南 -->
                    <div class="feature-card bg-white rounded-xl p-5 card-shadow flex flex-col items-center justify-center transition-smooth hover:shadow-lg hover:-translate-y-1 cursor-pointer" data-target="behaviorExperimentPage">
                        <div class="w-14 h-14 rounded-full bg-purple-100 flex items-center justify-center mb-3">
                            <i class="fa fa-flask text-accent text-xl"></i>
                        </div>
                        <h3 class="text-base font-medium text-center">行为实验指南</h3>
                    </div>

                    <!-- 冥想/正念练习 -->
                    <div class="feature-card bg-white rounded-xl p-5 card-shadow flex flex-col items-center justify-center transition-smooth hover:shadow-lg hover:-translate-y-1 cursor-pointer" data-target="mindfulnessPage">
                        <div class="w-14 h-14 rounded-full bg-yellow-100 flex items-center justify-center mb-3">
                            <i class="fa fa-headphones text-yellow-500 text-xl"></i>
                        </div>
                        <h3 class="text-base font-medium text-center">冥想/正念练习</h3>
                    </div>
                </div>

                <!-- 最近记录 -->
                <div class="mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">最近记录</h3>
                        <button class="text-primary text-sm flex items-center" data-target="myRecordsPage">
                            查看全部 <i class="fa fa-angle-right ml-1"></i>
                        </button>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="bg-white rounded-lg p-4 card-shadow flex items-center justify-between">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                                    <i class="fa fa-pencil text-primary"></i>
                                </div>
                                <div>
                                    <p class="font-medium">自动思维记录</p>
                                    <p class="text-sm text-gray-500">今天 14:30</p>
                                </div>
                            </div>
                            <span class="text-xs bg-blue-50 text-primary px-2 py-1 rounded-full">工作压力</span>
                        </div>
                        
                        <div class="bg-white rounded-lg p-4 card-shadow flex items-center justify-between">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center mr-3">
                                    <i class="fa fa-heart-o text-secondary"></i>
                                </div>
                                <div>
                                    <p class="font-medium">情绪调节练习</p>
                                    <p class="text-sm text-gray-500">昨天 20:15</p>
                                </div>
                            </div>
                            <span class="text-xs bg-green-50 text-secondary px-2 py-1 rounded-full">已完成</span>
                        </div>
                    </div>
                </div>

                <!-- 新解锁徽章 -->
                <div class="bg-gradient-to-r from-primary to-accent rounded-xl p-5 text-white mb-6">
                    <div class="flex items-start justify-between">
                        <div>
                            <h3 class="text-lg font-semibold mb-1">恭喜解锁新徽章！</h3>
                            <p class="text-sm opacity-90 mb-3">完成3次自动思维记录</p>
                            <button class="bg-white text-primary text-sm px-3 py-1.5 rounded-full font-medium" data-target="myBadgesPage">
                                查看我的徽章
                            </button>
                        </div>
                        <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center">
                            <i class="fa fa-star text-2xl"></i>
                        </div>
                    </div>
                </div>

                <!-- 推荐内容 -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">为你推荐</h3>
                    <div class="space-y-4">
                        <div class="bg-white rounded-xl overflow-hidden card-shadow">
                            <img src="https://picsum.photos/400/200?random=1" alt="CBT认知行为疗法入门" class="w-full h-40 object-cover">
                            <div class="p-4">
                                <h4 class="font-semibold mb-1">CBT认知行为疗法入门</h4>
                                <p class="text-sm text-gray-500 mb-3 line-clamp-2">了解认知行为疗法的基本原理，掌握改变负面思维的实用技巧...</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-xs text-gray-400">5分钟阅读</span>
                                    <button class="text-primary text-sm">阅读全文</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 自动思维记录页面 -->
        <section id="thoughtRecordPage" class="page hidden">
            <div class="px-4 py-6">
                <div class="mb-6">
                    <h2 class="text-xl font-bold mb-2">自动思维记录</h2>
                    <p class="text-gray-500 text-sm">记录并分析你的想法与情绪反应</p>
                </div>

                <!-- 捕捉部分 -->
                <div class="bg-white rounded-xl p-5 card-shadow mb-6">
                    <h3 class="text-lg font-semibold mb-4">捕捉</h3>
                    
                    <!-- 情境选择 -->
                    <div class="mb-5">
                        <label class="block text-sm font-medium text-gray-700 mb-2">情境</label>
                        <select class="w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-smooth">
                            <option value="">请选择或输入情境</option>
                            <option value="work_criticized">工作中被批评</option>
                            <option value="friend_conflict">与朋友发生矛盾</option>
                            <option value="work_stress">工作压力大</option>
                            <option value="family_issue">家庭问题</option>
                            <option value="self_doubt">自我怀疑</option>
                            <option value="other">其他（请在下方输入）</option>
                        </select>
                        <input type="text" placeholder="如选择'其他'，请在此输入具体情境" class="w-full mt-2 p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-smooth">
                    </div>
                    
                    <!-- 思维输入 -->
                    <div class="mb-5">
                        <label class="block text-sm font-medium text-gray-700 mb-2">当时的想法</label>
                        <textarea placeholder="请描述你当时的想法..." rows="4" class="w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-smooth"></textarea>
                    </div>
                    
                    <!-- 情绪评分 -->
                    <div>
                        <div class="flex items-center justify-between mb-2">
                            <label class="block text-sm font-medium text-gray-700">情绪强度</label>
                            <span id="emotionScore" class="text-primary font-semibold">5</span>
                        </div>
                        <input type="range" min="1" max="10" value="5" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary" oninput="document.getElementById('emotionScore').textContent = this.value">
                        <div class="flex justify-between text-xs text-gray-500 mt-1">
                            <span>轻微</span>
                            <span>中等</span>
                            <span>强烈</span>
                        </div>
                    </div>
                </div>
                
                <!-- 输出部分 -->
                <div class="bg-white rounded-xl p-5 card-shadow mb-6">
                    <h3 class="text-lg font-semibold mb-4">记录预览</h3>
                    
                    <div class="border border-gray-100 rounded-lg p-4 bg-gray-50 mb-4">
                        <div class="flex justify-between items-start mb-3">
                            <span class="text-sm text-gray-500">记录时间</span>
                            <span class="text-sm font-medium">2023-05-15 16:45</span>
                        </div>
                        
                        <div class="mb-3">
                            <span class="text-sm text-gray-500 block mb-1">情境</span>
                            <p class="text-sm">工作压力大， deadlines临近</p>
                        </div>
                        
                        <div class="mb-3">
                            <span class="text-sm text-gray-500 block mb-1">当时的想法</span>
                            <p class="text-sm">我肯定完成不了，一定会被领导批评，同事会觉得我能力不行...</p>
                        </div>
                        
                        <div>
                            <span class="text-sm text-gray-500 block mb-1">情绪强度</span>
                            <div class="flex items-center">
                                <div class="w-full h-2 bg-gray-200 rounded-full overflow-hidden mr-2">
                                    <div class="h-full bg-red-400 rounded-full" style="width: 80%"></div>
                                </div>
                                <span class="text-sm font-medium">8分</span>
                            </div>
                        </div>
                    </div>
                    
                    <button class="w-full py-3 bg-primary text-white rounded-lg font-medium flex items-center justify-center">
                        <i class="fa fa-download mr-2"></i> 一键下载 PDF/Excel
                    </button>
                </div>
                
                <!-- 相关推荐 -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">相关推荐</h3>
                    <div class="space-y-4">
                        <div class="bg-white rounded-xl overflow-hidden card-shadow flex">
                            <img src="https://picsum.photos/120/120?random=2" alt="工作压力管理技巧" class="w-24 h-24 object-cover flex-shrink-0">
                            <div class="p-3 flex-grow">
                                <h4 class="font-medium text-sm mb-1">工作压力管理技巧</h4>
                                <p class="text-xs text-gray-500 mb-2 line-clamp-2">学习如何有效管理工作压力，建立健康的工作边界...</p>
                                <button class="text-primary text-xs">查看详情</button>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-xl p-3 card-shadow flex items-center">
                            <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center mr-3 flex-shrink-0">
                                <i class="fa fa-heart-o text-secondary"></i>
                            </div>
                            <div class="flex-grow">
                                <h4 class="font-medium text-sm">压力缓解呼吸练习</h4>
                                <p class="text-xs text-gray-500">5分钟快速减压</p>
                            </div>
                            <button class="text-primary text-sm flex-shrink-0">开始</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 情绪调节卡片页面 -->
        <section id="emotionRegulationPage" class="page hidden">
            <div class="px-4 py-6">
                <div class="mb-6">
                    <h2 class="text-xl font-bold mb-2">情绪调节卡片</h2>
                    <p class="text-gray-500 text-sm">通过简单练习调节你的情绪状态</p>
                </div>

                <!-- 卡片轮播 -->
                <div class="relative mb-8">
                    <div class="carousel-container overflow-x-auto scrollbar-hide pb-4">
                        <div class="carousel-track flex space-x-4 min-w-max px-1">
                            <!-- 卡片1：深呼吸 -->
                            <div class="emotion-card bg-white rounded-xl overflow-hidden card-shadow w-72 flex-shrink-0">
                                <div class="h-36 bg-blue-50 relative">
                                    <img src="https://picsum.photos/300/200?random=3" alt="深呼吸练习" class="w-full h-full object-cover opacity-70">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent flex items-end">
                                        <h3 class="text-white text-lg font-semibold p-4">深呼吸练习</h3>
                                    </div>
                                </div>
                                <div class="p-4">
                                    <p class="text-sm text-gray-600 mb-4">通过有节奏的呼吸调节自主神经系统，快速缓解焦虑情绪。</p>
                                    
                                    <div class="mb-4">
                                        <h4 class="text-xs font-medium text-gray-500 mb-2">操作步骤：</h4>
                                        <ol class="text-sm space-y-1 list-decimal list-inside">
                                            <li>找一个安静的地方坐下或躺下</li>
                                            <li>慢慢吸气4秒，感受腹部鼓起</li>
                                            <li>屏住呼吸2秒</li>
                                            <li>缓慢呼气6秒，感受身体放松</li>
                                            <li>重复5-10次</li>
                                        </ol>
                                    </div>
                                    
                                    <button class="complete-btn w-full py-2 border border-primary text-primary rounded-lg font-medium text-sm transition-smooth hover:bg-primary hover:text-white">
                                        标记完成
                                    </button>
                                </div>
                            </div>
                            
                            <!-- 卡片2：五感觉察 -->
                            <div class="emotion-card bg-white rounded-xl overflow-hidden card-shadow w-72 flex-shrink-0 opacity-50">
                                <div class="h-36 bg-green-50 relative">
                                    <img src="https://picsum.photos/300/200?random=4" alt="五感觉察练习" class="w-full h-full object-cover opacity-70">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent flex items-end">
                                        <h3 class="text-white text-lg font-semibold p-4">五感觉察</h3>
                                    </div>
                                    <div class="absolute top-3 right-3 bg-green-500 text-white text-xs px-2 py-1 rounded-full">
                                        已完成
                                    </div>
                                </div>
                                <div class="p-4">
                                    <p class="text-sm text-gray-600 mb-4">通过关注当下的五种感官体验，帮助你从负面情绪中抽离。</p>
                                    
                                    <div class="mb-4">
                                        <h4 class="text-xs font-medium text-gray-500 mb-2">操作步骤：</h4>
                                        <ol class="text-sm space-y-1 list-decimal list-inside">
                                            <li>说出你看到的5样东西</li>
                                            <li>说出你触摸到的4样东西</li>
                                            <li>说出你听到的3样声音</li>
                                            <li>说出你闻到的2种气味</li>
                                            <li>说出你尝到的1种味道</li>
                                        </ol>
                                    </div>
                                    
                                    <button class="w-full py-2 border border-gray-300 text-gray-500 rounded-lg font-medium text-sm bg-gray-100">
                                        已完成
                                    </button>
                                </div>
                            </div>
                            
                            <!-- 卡片3：正念饮食 -->
                            <div class="emotion-card bg-white rounded-xl overflow-hidden card-shadow w-72 flex-shrink-0">
                                <div class="h-36 bg-yellow-50 relative">
                                    <img src="https://picsum.photos/300/200?random=5" alt="正念饮食练习" class="w-full h-full object-cover opacity-70">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent flex items-end">
                                        <h3 class="text-white text-lg font-semibold p-4">正念饮食</h3>
                                    </div>
                                </div>
                                <div class="p-4">
                                    <p class="text-sm text-gray-600 mb-4">通过专注于食物的感官体验，培养对当下的觉察，缓解情绪性进食。</p>
                                    
                                    <div class="mb-4">
                                        <h4 class="text-xs font-medium text-gray-500 mb-2">操作步骤：</h4>
                                        <ol class="text-sm space-y-1 list-decimal list-inside">
                                            <li>选择一小块食物，如一颗葡萄干</li>
                                            <li>仔细观察它的颜色、形状和纹理</li>
                                            <li>慢慢放入口中，感受味道和质地</li>
                                            <li>专注于咀嚼的感觉，不急于吞咽</li>
                                            <li>留意吞咽的感受</li>
                                        </ol>
                                    </div>
                                    
                                    <button class="complete-btn w-full py-2 border border-primary text-primary rounded-lg font-medium text-sm transition-smooth hover:bg-primary hover:text-white">
                                        标记完成
                                    </button>
                                </div>
                            </div>
                            
                            <!-- 卡片4：情绪命名 -->
                            <div class="emotion-card bg-white rounded-xl overflow-hidden card-shadow w-72 flex-shrink-0">
                                <div class="h-36 bg-purple-50 relative">
                                    <img src="https://picsum.photos/300/200?random=6" alt="情绪命名练习" class="w-full h-full object-cover opacity-70">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent flex items-end">
                                        <h3 class="text-white text-lg font-semibold p-4">情绪命名</h3>
                                    </div>
                                </div>
                                <div class="p-4">
                                    <p class="text-sm text-gray-600 mb-4">通过准确命名自己的情绪，降低情绪强度，增强情绪调节能力。</p>
                                    
                                    <div class="mb-4">
                                        <h4 class="text-xs font-medium text-gray-500 mb-2">操作步骤：</h4>
                                        <ol class="text-sm space-y-1 list-decimal list-inside">
                                            <li>停下正在做的事情，关注内心感受</li>
                                            <li>尝试用准确的词语命名你的情绪</li>
                                            <li>注意情绪在身体中的感受部位</li>
                                            <li>不评判地接纳这种情绪的存在</li>
                                            <li>深呼吸3次，感受情绪的变化</li>
                                        </ol>
                                    </div>
                                    
                                    <button class="complete-btn w-full py-2 border border-primary text-primary rounded-lg font-medium text-sm transition-smooth hover:bg-primary hover:text-white">
                                        标记完成
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 轮播指示器 -->
                    <div class="flex justify-center mt-4 space-x-1.5">
                        <span class="w-2.5 h-2.5 rounded-full bg-primary"></span>
                        <span class="w-2.5 h-2.5 rounded-full bg-gray-300"></span>
                        <span class="w-2.5 h-2.5 rounded-full bg-gray-300"></span>
                        <span class="w-2.5 h-2.5 rounded-full bg-gray-300"></span>
                    </div>
                </div>
                
                <!-- 练习统计 -->
                <div class="bg-white rounded-xl p-5 card-shadow mb-6">
                    <h3 class="text-lg font-semibold mb-4">练习进度</h3>
                    
                    <div class="flex justify-between items-center mb-4">
                        <div>
                            <p class="text-sm text-gray-500">本周已完成</p>
                            <p class="text-xl font-bold">3/7</p>
                        </div>
                        <div class="w-16 h-16 rounded-full border-4 border-primary/20 flex items-center justify-center">
                            <div class="text-center">
                                <p class="text-xs text-gray-500">连续天数</p>
                                <p class="text-lg font-bold text-primary">2</p>
                            </div>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">总完成次数</p>
                            <p class="text-xl font-bold">12</p>
                        </div>
                    </div>
                    
                    <div class="w-full bg-gray-100 rounded-full h-2.5">
                        <div class="bg-primary h-2.5 rounded-full" style="width: 43%"></div>
                    </div>
                </div>
                
                <!-- 相关推荐 -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">相关推荐</h3>
                    <div class="space-y-4">
                        <div class="bg-white rounded-xl overflow-hidden card-shadow flex">
                            <img src="https://picsum.photos/120/120?random=7" alt="情绪识别指南" class="w-24 h-24 object-cover flex-shrink-0">
                            <div class="p-3 flex-grow">
                                <h4 class="font-medium text-sm mb-1">情绪识别指南：了解你的情绪密码</h4>
                                <p class="text-xs text-gray-500 mb-2 line-clamp-2">学习识别和分类不同的情绪，是情绪管理的第一步...</p>
                                <button class="text-primary text-xs">查看详情</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 行为实验指南页面 -->
        <section id="behaviorExperimentPage" class="page hidden">
            <div class="px-4 py-6">
                <div class="mb-6">
                    <h2 class="text-xl font-bold mb-2">行为实验指南</h2>
                    <p class="text-gray-500 text-sm">通过实验验证并调整你的负面信念</p>
                </div>

                <!-- 行为实验说明 -->
                <div class="bg-white rounded-xl p-5 card-shadow mb-6">
                    <h3 class="text-lg font-semibold mb-3">什么是行为实验？</h3>
                    <div class="prose prose-sm text-gray-700">
                        <p>行为实验是CBT（认知行为疗法）中的一种核心技术，通过设计并执行小型实验来检验我们的负面信念和假设是否正确。</p>
                        <p class="font-medium mt-2">行为实验可以帮助你：</p>
                        <ul class="list-disc pl-5 space-y-1 mt-1">
                            <li>发现负面想法与现实之间的差距</li>
                            <li>收集证据挑战不合理的信念</li>
                            <li>通过实践获得新的体验和认知</li>
                            <li>逐步改变限制你生活的行为模式</li>
                        </ul>
                        <p class="mt-2">通过下面的模板记录你的行为实验，逐步打破负面思维循环。</p>
                    </div>
                </div>
                
                <!-- 实验记录模板 -->
                <div class="bg-white rounded-xl p-5 card-shadow mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold">实验记录</h3>
                        <span class="text-xs bg-green-50 text-green-600 px-2 py-1 rounded-full">自动保存中</span>
                    </div>
                    
                    <!-- 担忧信念 -->
                    <div class="mb-5">
                        <label class="block text-sm font-medium text-gray-700 mb-2">我的担忧信念</label>
                        <textarea placeholder="例如：如果我在会议上发言，大家会觉得我很愚蠢..." rows="3" class="w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-smooth"></textarea>
                    </div>
                    
                    <!-- 小步尝试实验设计 -->
                    <div class="mb-5">
                        <label class="block text-sm font-medium text-gray-700 mb-2">小步尝试实验设计</label>
                        <p class="text-xs text-gray-500 mb-2">设计一个小实验来检验你的信念，从容易的步骤开始</p>
                        <div class="space-y-3">
                            <div class="flex items-start">
                                <span class="flex-shrink-0 w-6 h-6 rounded-full bg-gray-100 text-gray-500 flex items-center justify-center text-xs mt-0.5">1</span>
                                <input type="text" placeholder="第一步：例如，在小组会议上简单回应一次..." class="flex-grow ml-3 p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-smooth">
                            </div>
                            <div class="flex items-start">
                                <span class="flex-shrink-0 w-6 h-6 rounded-full bg-gray-100 text-gray-500 flex items-center justify-center text-xs mt-0.5">2</span>
                                <input type="text" placeholder="第二步：..." class="flex-grow ml-3 p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-smooth">
                            </div>
                            <div class="flex items-start">
                                <span class="flex-shrink-0 w-6 h-6 rounded-full bg-gray-100 text-gray-500 flex items-center justify-center text-xs mt-0.5">3</span>
                                <input type="text" placeholder="第三步：..." class="flex-grow ml-3 p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-smooth">
                            </div>
                        </div>
                    </div>
                    
                    <!-- 预测结果 -->
                    <div class="mb-5">
                        <label class="block text-sm font-medium text-gray-700 mb-2">我预测会发生什么？</label>
                        <textarea placeholder="根据我的担忧信念，我认为实验会有什么结果..." rows="2" class="w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-smooth"></textarea>
                    </div>
                    
                    <!-- 实际结果 -->
                    <div class="mb-5">
                        <label class="block text-sm font-medium text-gray-700 mb-2">实际结果记录</label>
                        <textarea placeholder="实验实际发生了什么？与你的预测有何不同？..." rows="3" class="w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-smooth"></textarea>
                    </div>
                    
                    <!-- 结论总结 -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">结论与新的认识</label>
                        <textarea placeholder="通过这个实验，你对原来的信念有什么新的认识？..." rows="3" class="w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-smooth"></textarea>
                    </div>
                    
                    <button class="w-full mt-5 py-3 bg-primary text-white rounded-lg font-medium">
                        保存实验记录
                    </button>
                </div>
                
                <!-- 历史实验记录 -->
                <div class="mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">历史实验记录</h3>
                        <button class="text-primary text-sm">查看全部</button>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="bg-white rounded-lg p-4 card-shadow">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-medium">社交焦虑实验</h4>
                                <span class="text-xs text-gray-500">5月10日</span>
                            </div>
                            <p class="text-sm text-gray-600 line-clamp-2 mb-2">检验信念："如果我主动和陌生人打招呼，他们会觉得我很奇怪..."</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xs bg-green-50 text-green-600 px-2 py-1 rounded-full">已完成</span>
                                <button class="text-primary text-sm">编辑</button>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg p-4 card-shadow">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-medium">工作表现实验</h4>
                                <span class="text-xs text-gray-500">5月5日</span>
                            </div>
                            <p class="text-sm text-gray-600 line-clamp-2 mb-2">检验信念："如果我向同事求助，他们会认为我能力不足..."</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xs bg-green-50 text-green-600 px-2 py-1 rounded-full">已完成</span>
                                <button class="text-primary text-sm">编辑</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 冥想/正念练习页面 -->
        <section id="mindfulnessPage" class="page hidden">
            <div class="px-4 py-6">
                <div class="mb-6">
                    <h2 class="text-xl font-bold mb-2">冥想/正念练习</h2>
                    <p class="text-gray-500 text-sm">通过引导式练习培养当下觉察</p>
                </div>

                <!-- 音频播放器 -->
                <div class="bg-white rounded-xl p-5 card-shadow mb-6">
                    <div class="flex flex-col items-center">
                        <div class="w-32 h-32 rounded-full bg-gradient-to-br from-purple-400 to-primary flex items-center justify-center mb-5">
                            <i class="fa fa-play text-white text-3xl" id="playPauseIcon"></i>
                        </div>
                        
                        <h3 class="text-lg font-semibold mb-1">10分钟呼吸冥想</h3>
                        <p class="text-sm text-gray-500 mb-5">适合初学者的基础冥想练习</p>
                        
                        <!-- 进度条 -->
                        <div class="w-full mb-4">
                            <div class="flex justify-between text-xs text-gray-500 mb-1">
                                <span id="currentTime">02:30</span>
                                <span>10:00</span>
                            </div>
                            <input type="range" min="0" max="100" value="25" class="w-full h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary">
                        </div>
                        
                        <!-- 控制按钮 -->
                        <div class="flex items-center justify-between w-full max-w-xs">
                            <button class="text-gray-500 hover:text-primary transition-smooth">
                                <i class="fa fa-step-backward"></i>
                            </button>
                            <button id="playPauseBtn" class="w-12 h-12 rounded-full bg-primary text-white flex items-center justify-center">
                                <i class="fa fa-play"></i>
                            </button>
                            <button class="text-gray-500 hover:text-primary transition-smooth">
                                <i class="fa fa-step-forward"></i>
                            </button>
                        </div>
                        
                        <!-- 音量控制 -->
                        <div class="w-full mt-5 flex items-center">
                            <i class="fa fa-volume-up text-gray-500 mr-2"></i>
                            <input type="range" min="0" max="100" value="70" class="w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary">
                        </div>
                        
                        <!-- 缓存按钮 -->
                        <button class="mt-5 text-sm text-primary flex items-center">
                            <i class="fa fa-download mr-1"></i> 缓存音频，离线收听
                        </button>
                    </div>
                </div>
                
                <!-- 文字指导 -->
                <div class="bg-white rounded-xl p-5 card-shadow mb-6">
                    <h3 class="text-lg font-semibold mb-3">练习指导</h3>
                    
                    <div class="mb-4">
                        <h4 class="font-medium text-sm mb-2 flex items-center">
                            <i class="fa fa-bullseye text-primary mr-2"></i> 练习目的
                        </h4>
                        <p class="text-sm text-gray-600">培养对呼吸的觉察能力，训练注意力集中，减少思维反刍，缓解焦虑和压力。</p>
                    </div>
                    
                    <div class="mb-4">
                        <h4 class="font-medium text-sm mb-2 flex items-center">
                            <i class="fa fa-map-marker text-primary mr-2"></i> 适合场景
                        </h4>
                        <p class="text-sm text-gray-600">早晨起床后、工作间隙、睡前放松，或感到焦虑、压力大时。</p>
                    </div>
                    
                    <div>
                        <h4 class="font-medium text-sm mb-2 flex items-center">
                            <i class="fa fa-exclamation-circle text-primary mr-2"></i> 注意事项
                        </h4>
                        <p class="text-sm text-gray-600 mb-2">找一个安静、舒适的环境，保持坐姿端正但放松。不需要控制呼吸，只需自然觉察它的存在。当注意力走神时，温和地将它带回呼吸上，不评判自己。</p>
                        <p class="text-sm text-gray-600">如果有任何身体不适，请立即停止练习。</p>
                    </div>
                    
                    <button id="startPracticeBtn" class="w-full mt-5 py-3 bg-primary text-white rounded-lg font-medium">
                        开始练习
                    </button>
                </div>
                
                <!-- 更多练习 -->
                <div>
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">更多练习</h3>
                        <button class="text-primary text-sm">查看全部</button>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="bg-white rounded-lg p-4 card-shadow flex items-center">
                            <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mr-3 flex-shrink-0">
                                <i class="fa fa-headphones text-secondary"></i>
                            </div>
                            <div class="flex-grow">
                                <h4 class="font-medium">5分钟身体扫描</h4>
                                <p class="text-xs text-gray-500">关注身体感受，释放紧张</p>
                            </div>
                            <div class="flex-shrink-0">
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full mr-2">5:00</span>
                                <button class="text-primary">
                                    <i class="fa fa-play-circle-o"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg p-4 card-shadow flex items-center">
                            <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mr-3 flex-shrink-0">
                                <i class="fa fa-headphones text-primary"></i>
                            </div>
                            <div class="flex-grow">
                                <h4 class="font-medium">15分钟正念行走</h4>
                                <p class="text-xs text-gray-500">在行走中培养觉察</p>
                            </div>
                            <div class="flex-shrink-0">
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full mr-2">15:00</span>
                                <button class="text-primary">
                                    <i class="fa fa-play-circle-o"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg p-4 card-shadow flex items-center">
                            <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center mr-3 flex-shrink-0">
                                <i class="fa fa-headphones text-accent"></i>
                            </div>
                            <div class="flex-grow">
                                <h4 class="font-medium">睡前放松冥想</h4>
                                <p class="text-xs text-gray-500">缓解失眠，促进睡眠</p>
                            </div>
                            <div class="flex-shrink-0">
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full mr-2">20:00</span>
                                <button class="text-primary">
                                    <i class="fa fa-play-circle-o"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 我的记录页面 -->
        <section id="myRecordsPage" class="page hidden">
            <div class="px-4 py-6">
                <div class="mb-6">
                    <h2 class="text-xl font-bold mb-2">我的记录</h2>
                    <p class="text-gray-500 text-sm">查看和管理你的所有记录</p>
                </div>

                <!-- 筛选条件 -->
                <div class="bg-white rounded-xl p-4 card-shadow mb-6">
                    <div class="flex flex-wrap gap-2 mb-3">
                        <button class="px-3 py-1.5 bg-primary text-white text-sm rounded-full">全部记录</button>
                        <button class="px-3 py-1.5 bg-gray-100 text-gray-600 text-sm rounded-full">自动思维</button>
                        <button class="px-3 py-1.5 bg-gray-100 text-gray-600 text-sm rounded-full">行为实验</button>
                        <button class="px-3 py-1.5 bg-gray-100 text-gray-600 text-sm rounded-full">情绪练习</button>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <i class="fa fa-calendar text-gray-500 mr-2"></i>
                            <span class="text-sm text-gray-600">最近30天</span>
                        </div>
                        <button class="text-primary text-sm">
                            <i class="fa fa-filter mr-1"></i> 筛选
                        </button>
                    </div>
                </div>
                
                <!-- 记录列表 -->
                <div class="space-y-3">
                    <div class="bg-white rounded-lg p-4 card-shadow">
                        <div class="flex justify-between items-start mb-2">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-2">
                                    <i class="fa fa-pencil text-primary text-sm"></i>
                                </div>
                                <h4 class="font-medium">自动思维记录</h4>
                            </div>
                            <span class="text-xs text-gray-500">今天 14:30</span>
                        </div>
                        <p class="text-sm text-gray-600 line-clamp-2 mb-3">情境：工作压力大， deadlines临近... 情绪强度：8分</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs bg-blue-50 text-primary px-2 py-1 rounded-full">工作压力</span>
                            <div>
                                <button class="text-gray-500 hover:text-primary mr-3">
                                    <i class="fa fa-eye"></i>
                                </button>
                                <button class="text-gray-500 hover:text-primary mr-3">
                                    <i class="fa fa-edit"></i>
                                </button>
                                <button class="text-gray-500 hover:text-red-500">
                                    <i class="fa fa-trash-o"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg p-4 card-shadow">
                        <div class="flex justify-between items-start mb-2">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-2">
                                    <i class="fa fa-heart-o text-secondary text-sm"></i>
                                </div>
                                <h4 class="font-medium">情绪调节练习</h4>
                            </div>
                            <span class="text-xs text-gray-500">昨天 20:15</span>
                        </div>
                        <p class="text-sm text-gray-600 line-clamp-2 mb-3">完成了"五感觉察"练习，帮助缓解了焦虑情绪...</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs bg-green-50 text-secondary px-2 py-1 rounded-full">已完成</span>
                            <div>
                                <button class="text-gray-500 hover:text-primary mr-3">
                                    <i class="fa fa-eye"></i>
                                </button>
                                <button class="text-gray-500 hover:text-primary">
                                    <i class="fa fa-repeat"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg p-4 card-shadow">
                        <div class="flex justify-between items-start mb-2">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center mr-2">
                                    <i class="fa fa-flask text-accent text-sm"></i>
                                </div>
                                <h4 class="font-medium">行为实验记录</h4>
                            </div>
                            <span class="text-xs text-gray-500">5月10日</span>
                        </div>
                        <p class="text-sm text-gray-600 line-clamp-2 mb-3">社交焦虑实验：检验信念"如果我主动和陌生人打招呼，他们会觉得我很奇怪..."</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs bg-green-50 text-green-600 px-2 py-1 rounded-full">已完成</span>
                            <div>
                                <button class="text-gray-500 hover:text-primary mr-3">
                                    <i class="fa fa-eye"></i>
                                </button>
                                <button class="text-gray-500 hover:text-primary mr-3">
                                    <i class="fa fa-edit"></i>
                                </button>
                                <button class="text-gray-500 hover:text-red-500">
                                    <i class="fa fa-trash-o"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 我的徽章页面 -->
        <section id="myBadgesPage" class="page hidden">
            <div class="px-4 py-6">
                <div class="mb-6">
                    <h2 class="text-xl font-bold mb-2">我的徽章</h2>
                    <p class="text-gray-500 text-sm">查看你的成就与进步</p>
                </div>

                <!-- 已解锁徽章 -->
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-4">已解锁 (3/10)</h3>
                    
                    <div class="grid grid-cols-3 gap-4">
                        <div class="badge-card bg-white rounded-xl p-4 card-shadow flex flex-col items-center">
                            <div class="w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center mb-2">
                                <i class="fa fa-pencil text-primary text-2xl"></i>
                            </div>
                            <h4 class="text-sm font-medium text-center mb-1">思维记录者</h4>
                            <p class="text-xs text-gray-500 text-center mb-2">完成3次自动思维记录</p>
                            <span class="text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full">5月15日获得</span>
                        </div>
                        
                        <div class="badge-card bg-white rounded-xl p-4 card-shadow flex flex-col items-center">
                            <div class="w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mb-2">
                                <i class="fa fa-heart-o text-secondary text-2xl"></i>
                            </div>
                            <h4 class="text-sm font-medium text-center mb-1">情绪调节新手</h4>
                            <p class="text-xs text-gray-500 text-center mb-2">完成5次情绪调节练习</p>
                            <span class="text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full">5月10日获得</span>
                        </div>
                        
                        <div class="badge-card bg-white rounded-xl p-4 card-shadow flex flex-col items-center">
                            <div class="w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center mb-2">
                                <i class="fa fa-calendar-check-o text-accent text-2xl"></i>
                            </div>
                            <h4 class="text-sm font-medium text-center mb-1">坚持者</h4>
                            <p class="text-xs text-gray-500 text-center mb-2">连续7天使用工具</p>
                            <span class="text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full">5月5日获得</span>
                        </div>
                    </div>
                </div>
                
                <!-- 未解锁徽章 -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">待解锁</h3>
                    
                    <div class="grid grid-cols-3 gap-4">
                        <div class="badge-card bg-white rounded-xl p-4 card-shadow flex flex-col items-center opacity-50">
                            <div class="w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-2">
                                <i class="fa fa-flask text-gray-400 text-2xl"></i>
                            </div>
                            <h4 class="text-sm font-medium text-center mb-1">实验探索者</h4>
                            <p class="text-xs text-gray-500 text-center mb-2">完成3次行为实验</p>
                            <div class="w-full bg-gray-100 rounded-full h-1.5 mt-1">
                                <div class="bg-gray-400 h-1.5 rounded-full" style="width: 67%"></div>
                            </div>
                            <span class="text-xs text-gray-400 mt-1">2/3 进度</span>
                        </div>
                        
                        <div class="badge-card bg-white rounded-xl p-4 card-shadow flex flex-col items-center opacity-50">
                            <div class="w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-2">
                                <i class="fa fa-headphones text-gray-400 text-2xl"></i>
                            </div>
                            <h4 class="text-sm font-medium text-center mb-1">冥想达人</h4>
                            <p class="text-xs text-gray-500 text-center mb-2">完成10次冥想练习</p>
                            <div class="w-full bg-gray-100 rounded-full h-1.5 mt-1">
                                <div class="bg-gray-400 h-1.5 rounded-full" style="width: 40%"></div>
                            </div>
                            <span class="text-xs text-gray-400 mt-1">4/10 进度</span>
                        </div>
                        
                        <div class="badge-card bg-white rounded-xl p-4 card-shadow flex flex-col items-center opacity-50">
                            <div class="w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-2">
                                <i class="fa fa-star text-gray-400 text-2xl"></i>
                            </div>
                            <h4 class="text-sm font-medium text-center mb-1">全才</h4>
                            <p class="text-xs text-gray-500 text-center mb-2">体验所有工具功能</p>
                            <div class="w-full bg-gray-100 rounded-full h-1.5 mt-1">
                                <div class="bg-gray-400 h-1.5 rounded-full" style="width: 75%"></div>
                            </div>
                            <span class="text-xs text-gray-400 mt-1">3/4 进度</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 底部导航 -->
    <footer class="fixed bottom-0 left-0 right-0 bg-white shadow-[0_-2px_10px_rgba(0,0,0,0.05)] z-40">
        <div class="flex justify-around items-center py-3">
            <button class="flex flex-col items-center text-primary">
                <i class="fa fa-home text-lg mb-1"></i>
                <span class="text-xs">首页</span>
            </button>
            <button class="flex flex-col items-center text-gray-500">
                <i class="fa fa-line-chart text-lg mb-1"></i>
                <span class="text-xs">数据</span>
            </button>
            <button class="flex flex-col items-center text-gray-500">
                <i class="fa fa-book text-lg mb-1"></i>
                <span class="text-xs">学习</span>
            </button>
            <button class="flex flex-col items-center text-gray-500">
                <i class="fa fa-user-o text-lg mb-1"></i>
                <span class="text-xs">我的</span>
            </button>
        </div>
    </footer>

    <script>
        // 页面导航功能
        document.addEventListener('DOMContentLoaded', function() {
            // 获取所有页面和导航按钮
            const pages = document.querySelectorAll('.page');
            const featureCards = document.querySelectorAll('.feature-card');
            const backBtn = document.getElementById('backBtn');
            const pageTitle = document.getElementById('pageTitle');
            const otherLinks = document.querySelectorAll('[data-target]');
            
            // 记录页面历史
            let pageHistory = ['homePage'];
            
            // 切换页面函数
            function navigateTo(pageId, title) {
                // 隐藏所有页面
                pages.forEach(page => {
                    page.classList.add('hidden');
                    page.classList.remove('active');
                });
                
                // 显示目标页面
                const targetPage = document.getElementById(pageId);
                if (targetPage) {
                    targetPage.classList.remove('hidden');
                    targetPage.classList.add('active');
                    
                    // 更新标题
                    if (title) {
                        pageTitle.textContent = title;
                    } else {
                        // 从页面ID推断标题
                        const titleMap = {
                            'thoughtRecordPage': '自动思维记录',
                            'emotionRegulationPage': '情绪调节卡片',
                            'behaviorExperimentPage': '行为实验指南',
                            'mindfulnessPage': '冥想/正念练习',
                            'myRecordsPage': '我的记录',
                            'myBadgesPage': '我的徽章'
                        };
                        pageTitle.textContent = titleMap[pageId] || 'CBT自助工具';
                    }
                    
                    // 添加到历史记录
                    if (pageHistory[pageHistory.length - 1] !== pageId) {
                        pageHistory.push(pageId);
                    }
                    
                    // 滚动到顶部
                    window.scrollTo(0, 0);
                }
            }
            
            // 功能卡片点击事件
            featureCards.forEach(card => {
                card.addEventListener('click', function() {
                    const targetPage = this.getAttribute('data-target');
                    if (targetPage) {
                        navigateTo(targetPage);
                    }
                });
            });
            
            // 其他链接点击事件
            otherLinks.forEach(link => {
                link.addEventListener('click', function() {
                    const targetPage = this.getAttribute('data-target');
                    if (targetPage) {
                        navigateTo(targetPage);
                    }
                });
            });
            
            // 返回按钮点击事件
            backBtn.addEventListener('click', function() {
                if (pageHistory.length > 1) {
                    pageHistory.pop();
                    const prevPage = pageHistory[pageHistory.length - 1];
                    navigateTo(prevPage);
                }
            });
            
            // 情绪调节卡片完成按钮
            const completeBtns = document.querySelectorAll('.complete-btn');
            completeBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const card = this.closest('.emotion-card');
                    if (card) {
                        // 卡片置灰
                        card.classList.add('opacity-50');
                        
                        // 修改按钮状态
                        this.innerHTML = '已完成';
                        this.classList.remove('border-primary', 'text-primary', 'hover:bg-primary', 'hover:text-white');
                        this.classList.add('border-gray-300', 'text-gray-500', 'bg-gray-100');
                        
                        // 添加已完成标记
                        const imgContainer = card.querySelector('.relative');
                        if (imgContainer && !imgContainer.querySelector('.absolute.top-3.right-3')) {
                            const badge = document.createElement('div');
                            badge.className = 'absolute top-3 right-3 bg-green-500 text-white text-xs px-2 py-1 rounded-full';
                            badge.textContent = '已完成';
                            imgContainer.appendChild(badge);
                        }
                        
                        // 显示提示
                        alert('已标记为完成！继续保持哦~');
                    }
                });
            });
            
            // 音频播放器功能
            const playPauseBtn = document.getElementById('playPauseBtn');
            const playPauseIcon = document.getElementById('playPauseIcon');
            let isPlaying = false;
            
            playPauseBtn.addEventListener('click', togglePlay);
            document.getElementById('startPracticeBtn').addEventListener('click', togglePlay);
            
            function togglePlay() {
                isPlaying = !isPlaying;
                
                if (isPlaying) {
                    playPauseBtn.innerHTML = '<i class="fa fa-pause"></i>';
                    playPauseIcon.className = 'fa fa-pause text-white text-3xl';
                } else {
                    playPauseBtn.innerHTML = '<i class="fa fa-play"></i>';
                    playPauseIcon.className = 'fa fa-play text-white text-3xl';
                }
            }
        });
    </script>
</body>
</html>
