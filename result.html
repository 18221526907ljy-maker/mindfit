<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>测评结果页</title>
</head>
<body style="padding: 2rem; font-family: sans-serif; background-color: #f0f9ff;">
  <h1 style="color: #0369a1;">✅ 你成功进入了结果页！</h1>
  <p>这是测试结果页面。接下来我们会一步步把内容填进去。</p>
  <!-- 建议展示区域（目前还不会显示，下一步再加逻辑） -->
<div id="adviceBox" class="mt-6 p-4 bg-white shadow rounded hidden">
  <h2 class="font-bold text-lg mb-2">为你生成的建议</h2>
  <div id="adviceBox" class="mt-4 hidden bg-white rounded-lg p-4 shadow">
  <ul id="adviceList" class="list-disc space-y-1 pl-4 text-sm text-gray-700"></ul>
</div>

  <ul id="adviceList" class="list-disc pl-5 space-y-1 text-sm text-gray-800">
    <!-- JavaScript 会在这里插入建议 -->
  </ul>
</div>

  <a href="index.html">← 返回首页</a>
  <script>
  // 获取本地存储
  const dbRaw = localStorage.getItem("mindfit_db");
  if (dbRaw) {
    const db = JSON.parse(dbRaw);
    const records = db.assessments || [];
    if (records.length > 0) {
      const last = records[records.length - 1];
      const adviceList = last.advice || [];

      // 如果有建议就显示
      if (adviceList.length > 0) {
        const box = document.getElementById("adviceBox");
        const ul = document.getElementById("adviceList");
        ul.innerHTML = adviceList.map((t) => `<li>${t}</li>`).join("");
        box.classList.remove("hidden");
      }
    }
  }
    <script>
  // 解析 URL 参数
  function getQueryParam(key) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(key);
  }

  // 获取建议内容并显示
  const adviceStr = getQueryParam("advice"); // URL 里用 , 分隔
  const adviceList = document.getElementById("adviceList");
  const adviceBox = document.getElementById("adviceBox");

  if (adviceStr && adviceList) {
    const adviceArr = decodeURIComponent(adviceStr).split(",,");
    adviceArr.forEach(text => {
      const li = document.createElement("li");
      li.textContent = text;
      adviceList.appendChild(li);
    });
    adviceBox.classList.remove("hidden"); // 显示容器
  }
</script>

</body>
</html>

